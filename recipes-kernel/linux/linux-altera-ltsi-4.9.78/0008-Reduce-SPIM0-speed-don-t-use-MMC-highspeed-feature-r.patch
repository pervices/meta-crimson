From 313134b8674c220ce19fd6890d31ec0d67d55ced Mon Sep 17 00:00:00 2001
From: Amir Ghanbari Bavarsad <amir.b@pervices.com>
Date: Fri, 1 Mar 2019 19:00:10 +0000
Subject: [PATCH 8/8] Reduce SPIM0 speed, don't use MMC highspeed feature,
 remove unused i2c

---
 .../dts/altera/socfpga_stratix10_socdk.dts     | 18 +++++-------------
 1 file changed, 5 insertions(+), 13 deletions(-)

diff --git a/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts b/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts
index fbada30749ba..1949cafb3148 100644
--- a/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts
+++ b/arch/arm64/boot/dts/altera/socfpga_stratix10_socdk.dts
@@ -86,7 +86,7 @@
 &mmc {
 	status = "okay";
 	num-slots = <1>;
-	cap-sd-highspeed;
+	//cap-sd-highspeed;
 	broken-cd;
 	bus-width = <4>;
 };
@@ -100,14 +100,6 @@
 	disable-over-current;
 };
 
-&i2c0 {
-	status = "okay";
-	clock-frequency = <100000>;
-	i2c-sda-falling-time-ns = <300>;  /* hcnt */
-	i2c-sdl-falling-time-ns = <300>;  /* lcnt */
-
-};
-
 &i2c2 {
 	status = "okay";
 	clock-frequency = <100000>;
@@ -130,7 +122,7 @@
 		status = "okay";
 		compatible = "maxim,max14830";
 		reg = <0x0>;
-		spi-max-frequency = <10000000>;
+		spi-max-frequency = <500000>;
 		clocks = <&spi_uart_clock>;
 		clock-names = "xtal";
 		interrupt-parent = <&porta>;
@@ -144,7 +136,7 @@
 		status = "okay";
 		compatible = "maxim,max14830";
 		reg = <0x1>;
-		spi-max-frequency = <10000000>;
+		spi-max-frequency = <500000>;
 		clocks = <&spi_uart_clock>;
 		clock-names = "xtal";
 		interrupt-parent = <&porta>;
@@ -158,7 +150,7 @@
 		status = "okay";
 		compatible = "maxim,max14830";
 		reg = <0x2>;
-		spi-max-frequency = <10000000>;
+		spi-max-frequency = <500000>;
 		clocks = <&spi_uart_clock>;
 		clock-names = "xtal";
 		interrupt-parent = <&portb>;
@@ -172,7 +164,7 @@
 		status = "okay";
 		compatible = "maxim,max14830";
 		reg = <0x3>;
-		spi-max-frequency = <10000000>;
+		spi-max-frequency = <500000>;
 		clocks = <&spi_uart_clock>;
 		clock-names = "xtal";
 		interrupt-parent = <&portb>;
-- 
2.20.1

